<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ub1 Playground</title>
	<link rel="stylesheet" href="/res/font-awesome/css/font-awesome.min.css"/>
	<ub1-include href="lib/ui.htm"/>
	<ub1-include href="style.htm"/>
</head>
<body class="ub1-resize" :pageSection="${0}" :sectionItem="${12}">

	<ub1-dataset :name="samplesData"
	             :server="${makeData()}"
	             :makeData="${function() {
	                var names = pageReadDirectory(pageFSPath + '/samples');
	                names = stringSort(names);
	                return names.map(function(n) {return {name:n.split('.')[0]}});
	             }}">
	</ub1-dataset>

	<div class="left">
		<ul>
			<ui-tablist-item c_leftSection
			                 c_selected="${flag || open}"
			                 :title="Samples"
			                 :open="${pageSection == 0}"
			                 :on_open="${open ? pageSection = 0 : null}"
			>
				<ol>
					<li c_leftItem
					    c_selected="${cloneIndex == sectionItem}"
					    :foreach="samplesData:/root/item"
					    :sampleName="${dataGet('@name').split('_')[1]}"
					    :ev_click="${sectionItem = cloneIndex}">
						${regex('-', 'g').replace(sampleName, ' ')}
					</li>
				</ol>
			</ui-tablist-item>

			<ui-tablist-item c_leftSection
			                 c_selected="${flag || open}"
			                 :title="Pippo"
			                 :open="${pageSection == 1}"
			                 :on_open="${open ? pageSection = 1 : null}"
			>
				<ol>
					<li c_leftItem
					    c_selected="${cloneIndex == sectionItem}"
					    :foreach="samplesData:/root/item"
					    :sampleName="${dataGet('@name').split('_')[1]}"
					    :ev_click="${sectionItem = cloneIndex}">
						${regex('-', 'g').replace(sampleName, ' ')}
					</li>
				</ol>
			</ui-tablist-item>

			<ui-tablist-item c_leftSection
			                 c_selected="${flag || open}"
			                 :title="Pluto"
			                 :open="${pageSection == 2}"
			                 :on_open="${open ? pageSection = 2 : null}"
			>
				<ol>
					<li c_leftItem
					    c_selected="${cloneIndex == sectionItem}"
					    :foreach="samplesData:/root/item"
					    :sampleName="${dataGet('@name').split('_')[1]}"
					    :ev_click="${sectionItem = cloneIndex}">
						${regex('-', 'g').replace(sampleName, ' ')}
					</li>
				</ol>
			</ui-tablist-item>
		</ul>
	</div>

	<div class="main">
		<div class="top">
			<button class="toolbar-button no-xl"
			        style="margin-right:-14px">
				<svg viewBox="0 0 24 24" width="18" height="18" fill="#456"
				     style="margin:-2px 0 0 -3px">
					<path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
				</svg>
			</button>
			<div style="position:absolute;display:inline-block">
				<ub1-include href="logo.htm"></ub1-include>
				Playground
			</div>
			<button class="toolbar-button no-large" style="float:right">
				<i class="fa fa-fw fa-eye"
				   style="margin-left:-1px 0 0 -1px"></i>
			</button>
			<button class="toolbar-button no-large" style="float:right">
				<i class="fa fa-fw fa-code"
				   style="margin-left:-1px 0 0 -1px"></i>
			</button>
			<button class="toolbar-button on-large" style="float:right">
				<i class="fa fa-fw fa-flip-horizontal fa-undo"
				   style="margin:-1px 0 0 -1px"></i>
			</button>
		</div>
		<div class="center ub1-resize">
			<div class="code">
				<div class="editor"></div>
			</div>
			<div class="preview"></div>
			<div class="doc"></div>
		</div>
	</div>

	<!-- https://ace.c9.io/#nav=embedding -->
	<script src="/res/ace-builds/src-min-noconflict/ace.js"></script>
	<script>
		window.addEventListener('load', function(ev) {
			var div = document.querySelector('.editor');
			editor = ace.edit(div);
			editor.setTheme("ace/theme/chrome");
			editor.session.setMode("ace/mode/php");
			editor.setOption('scrollPastEnd', .33);
	    });
	</script>

	<!-- https://github.com/showdownjs/showdown -->
	<script src="/res/showdown/showdown.min.js"></script>
	<script>
		window.converter = new showdown.Converter();
	</script>
</body>
</html>